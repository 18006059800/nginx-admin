upstream example2 {
   sticky;
   server 10.11.39.49:8080;
   server 10.11.39.56:8080;
}

server {
        listen       80;
        server_name  example2.com;
   
        location /location1 {
            proxy_pass  http://example1;
        }

        location ~* /location1/(.+)\.(js|css|png|jpg|jpeg|gif|ico|pdf|docx|doc)$ {
           proxy_pass  http://example1;
        }
        
         location /location2 {
            proxy_pass  http://example2;
        }

        location ~* /location2/(.+)\.(js|css|png|jpg|jpeg|gif|ico|pdf|docx|doc)$ {
           proxy_pass  http://example2;
        }

       location = / {
         rewrite ^ http://domain/context permanent;
       }
}

   
